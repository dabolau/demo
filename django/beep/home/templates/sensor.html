<!--
版权归作者所有
作者：李文江、刘毅
日期：20171008
版本号：1.0
-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>传感器</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcss.com/echarts/3.7.1/echarts.min.js"></script>
</head>

<body style="background-color:#eee;">

    <div class="container" style="padding:30px;">
        <div class="">
            <h1 class="text-left">传感器</h1>
        </div>
        <ol class="breadcrumb text-right">
            <li><a href="{% url 'meter' %}">仪表</a></li>
            <li><a href="{% url 'option' %}">选项</a></li>
            <li><a href="{% url 'sensor' %}">首页</a></li>
            <li><a class="text-right" href="{% url 'logout' %}">注销</a></li>
        </ol>
        <!--提示-->
        <div class="row">
            <div class="col-md-12">
                <div class="alert alert-info alert-dismissible" role="alert">
                    <button type="button" class="close" data-dismiss="alert">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <strong>红色表示警告，默认表示正常。</strong>
                </div>
            </div>
        </div>
        <!--提示-->
    </div>

    <div class="container" style="padding:30px;">

        
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <!-- <th>名称</th> -->
                        <!-- <th>位置</th> -->
                        <th>温度</th>
                        <th>湿度</th>
                        <th>时间</th>
                    </tr>
                </thead>
                <tbody>
                    {% for s in sensor %} {% if s.value1 >= temperature.value or s.value2 <= humidity.value %}
                    <tr class="danger">
                        <th scope="row">{{s.id}}</th>
                        <!-- <td>{{s.name}}</td> -->
                        <!-- <td>{{s.location}}</td> -->
                        <td>{{s.value1}}</td>
                        <td>{{s.value2}}</td>
                        <td>{{s.create_time | date:'Y-m-d H:i:s'}}</td>
                    </tr>
                    {% else %}
                    <tr>
                        <th scope="row">{{s.id}}</th>
                        <!-- <td>{{s.name}}</td> -->
                        <!-- <td>{{s.location}}</td> -->
                        <td>{{s.value1}}</td>
                        <td>{{s.value2}}</td>
                        <td>{{s.create_time | date:'Y-m-d H:i:s'}}</td>
                    </tr>
                    {% endif %} {% endfor %}
                </tbody>
            </table>
        </div>
        <nav aria-label="Page navigation">
            <ul class="pagination">
                {% if sensor.has_previous %}
                <li><a href="sensor?page={{sensor.previous_page_number}}">上一页</a></li>
                {% endif %}
                <li class="disabled"><a href="#">第 {{sensor.number}} / {{sensor.paginator.num_pages}} 页</a></li>
                {% if sensor.has_next %}
                <li><a href="sensor?page={{sensor.next_page_number}}">下一页</a></li>
                {% endif %}
            </ul>
        </nav>
    </div>

</body>

</html>